<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>16-Week Transformation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            overscroll-behavior: none;
            -webkit-tap-highlight-color: transparent;
        }
        .bg-clip-text {
            -webkit-background-clip: text;
            background-clip: text;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 to-slate-800 text-white min-h-screen">
    <div id="app"></div>

    <script>
        // Simple React-like state management
        const state = {
            currentWeek: 0,
            selectedDay: null,
            view: 'overview',
            completedExercises: JSON.parse(localStorage.getItem('workoutProgress') || '{}'),
            exerciseWeights: JSON.parse(localStorage.getItem('exerciseWeights') || '{}'),
            supplementLog: JSON.parse(localStorage.getItem('supplementLog') || '{}'),
            editingSet: null,
            tempWeight: ''
        };

        function saveState() {
            localStorage.setItem('workoutProgress', JSON.stringify(state.completedExercises));
            localStorage.setItem('exerciseWeights', JSON.stringify(state.exerciseWeights));
            localStorage.setItem('supplementLog', JSON.stringify(state.supplementLog));
        }

        function render() {
            const app = document.getElementById('app');
            if (state.view === 'supplements') {
                app.innerHTML = renderSupplements();
            } else if (state.selectedDay) {
                app.innerHTML = renderWorkoutDetail();
            } else {
                app.innerHTML = renderOverview();
            }
            attachEventListeners();
        }

        const supplementSchedule = {
            preworkout: {
                time: '6:00 AM',
                note: 'Before training',
                supplements: [
                    { name: 'Beta-Alanine', dose: '3.2g (4 caps)', icon: '‚ö°', conditional: true },
                    { name: 'Collagen', dose: '1 scoop', icon: 'ü¶¥' }
                ]
            },
            morning: {
                time: '8:30 AM',
                note: 'Post-workout with breakfast',
                supplements: [
                    { name: 'Whey Protein', dose: '2 scoops (50g)', icon: 'ü•§' },
                    { name: 'Creatine', dose: '5g', icon: 'üí™' },
                    { name: 'Omega-3 Fish Oil', dose: '1 capsule', icon: 'üêü' },
                    { name: 'Vitamin D3 + K2', dose: '4,000 IU + 100mcg', icon: '‚òÄÔ∏è' },
                    { name: 'B-Complex', dose: '1 capsule', icon: 'üîã' },
                    { name: 'Vitamin C', dose: '500mg', icon: 'üçä' }
                ]
            },
            evening: {
                time: '9:30 PM',
                note: 'Before bed (empty stomach)',
                supplements: [
                    { name: 'Magnesium Glycinate', dose: '240mg (2 caps)', icon: 'üò¥' },
                    { name: 'Zinc', dose: '30mg', icon: 'üõ°Ô∏è' },
                    { name: 'Ashwagandha KSM-66', dose: '500mg', icon: 'üßò' }
                ]
            }
        };

        function getPhase(week) {
            if (week === 0) return 0;
            if (week <= 4) return 1;
            if (week <= 8) return 2;
            if (week <= 12) return 3;
            return 4;
        }

        function getPhaseInfo(phase) {
            const phases = {
                0: { name: 'Prep Week', focus: 'Movement prep & conditioning' },
                1: { name: 'Foundation', focus: 'Work capacity & technique' },
                2: { name: 'Strength Building', focus: 'Progressive overload' },
                3: { name: 'Power & Hypertrophy', focus: 'Peak muscle building' },
                4: { name: 'Peak Performance', focus: 'Maximum strength & power' }
            };
            return phases[phase];
        }

        // Workout data for all phases
        const workoutData = {
            prep: {
                saturday: { 
                    name: 'Prep Power Session', 
                    duration: '55 min',
                    location: 'track',
                    note: 'Bring: Jump rope, sliders, water - 75% intensity',
                    exercises: [
                        { name: 'Dynamic Warm-up', sets: 1, reps: '12 min', hasWeight: false },
                        { name: 'Easy Build-up Sprints', sets: 6, reps: '40m @ 75%', rest: '2m', hasWeight: false },
                        { name: 'Broad Jumps (practice)', sets: 3, reps: 5, rest: '90s', hasWeight: false },
                        { name: 'Agility Drills', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'Jump Rope Practice', sets: 5, reps: '1 min on/1 min off', hasWeight: false },
                        { name: 'Easy Stadium Stairs', sets: 4, reps: 'walk up/jog down', rest: '90s', hasWeight: false },
                        { name: 'Core: Easy Plank', sets: 3, reps: '30s', rest: '30s', hasWeight: false },
                        { name: 'Mobility & Stretch', sets: 1, reps: '8 min', hasWeight: false }
                    ]
                },
                sunday: { 
                    name: 'Prep Recovery', 
                    duration: '40 min',
                    location: 'home',
                    exercises: [
                        { name: 'Track Walk/Easy Jog', sets: 1, reps: '20 min', hasWeight: false },
                        { name: 'Jump Rope Practice', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'Dynamic Stretching', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'Foam Rolling', sets: 1, reps: '4 min', hasWeight: false }
                    ]
                }
            },
            phase1: {
                monday: { 
                    name: 'Lower Body Foundation', 
                    duration: '65 min',
                    location: 'home',
                    exercises: [
                        { name: 'Dynamic Warm-up', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'Box Jumps', sets: 3, reps: 8, rest: '90s', hasWeight: false },
                        { name: 'Goblet Squats', sets: 4, reps: 15, rest: '90s', hasWeight: true, defaultWeight: 35 },
                        { name: 'Single-Leg Step-ups', sets: 3, reps: '12/side', rest: '75s', hasWeight: true, defaultWeight: 20 },
                        { name: 'KB Swings', sets: 4, reps: 20, rest: '75s', hasWeight: true, defaultWeight: 35 },
                        { name: 'Walking Lunges', sets: 3, reps: '20 steps', rest: '75s', hasWeight: true, defaultWeight: 20 },
                        { name: 'Slider Leg Curls', sets: 3, reps: 12, rest: '60s', hasWeight: false },
                        { name: 'Core: Med Ball Slams', sets: 3, reps: 15, rest: '45s', hasWeight: false },
                        { name: 'Core: Plank Hold', sets: 3, reps: '45s', rest: '30s', hasWeight: false },
                        { name: 'Mobility Cool-down', sets: 1, reps: '5 min', hasWeight: false }
                    ]
                },
                tuesday: { 
                    name: 'Upper Body Foundation', 
                    duration: '70 min',
                    location: 'home',
                    exercises: [
                        { name: 'Dynamic Warm-up', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'DB Floor Press', sets: 4, reps: 12, rest: '90s', hasWeight: true, defaultWeight: 35 },
                        { name: 'Single-Arm KB Rows', sets: 4, reps: '15/side', rest: '90s', hasWeight: true, defaultWeight: 35 },
                        { name: 'KB Shoulder Press', sets: 4, reps: 12, rest: '75s', hasWeight: true, defaultWeight: 25 },
                        { name: 'Push-up Variations', sets: 3, reps: 15, rest: '75s', hasWeight: false },
                        { name: 'KB Upright Rows', sets: 3, reps: 15, rest: '60s', hasWeight: true, defaultWeight: 25 },
                        { name: 'Hammer Curls', sets: 3, reps: 15, rest: '60s', hasWeight: true, defaultWeight: 20 },
                        { name: 'Overhead Tricep Extension', sets: 3, reps: 15, rest: '60s', hasWeight: true, defaultWeight: 25 },
                        { name: 'Core: Med Ball Russian Twists', sets: 3, reps: 20, rest: '45s', hasWeight: false },
                        { name: 'Core: Dead Bugs', sets: 3, reps: '12/side', rest: '30s', hasWeight: false },
                        { name: 'Stretch & Mobility', sets: 1, reps: '5 min', hasWeight: false }
                    ]
                },
                wednesday: { 
                    name: 'HIIT Conditioning', 
                    duration: '60 min',
                    location: 'track',
                    note: 'Bring: Jump rope, sliders, water',
                    exercises: [
                        { name: 'Warm-up Jog', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'Sprint Intervals', sets: 8, reps: '200m @ 80%', rest: '90s', hasWeight: false },
                        { name: 'Stadium Stairs', sets: 6, reps: 'full climb', rest: '90s', hasWeight: false },
                        { name: 'Jump Rope HIIT', sets: 8, reps: '45s on/45s off', hasWeight: false },
                        { name: 'Slider Mountain Climbers', sets: 3, reps: 20, rest: '45s', hasWeight: false },
                        { name: 'Core: Burpees', sets: 3, reps: 10, rest: '60s', hasWeight: false },
                        { name: 'Core: Plank to Downward Dog', sets: 3, reps: 12, rest: '45s', hasWeight: false },
                        { name: 'Cool-down & Stretch', sets: 1, reps: '8 min', hasWeight: false }
                    ]
                },
                thursday: { 
                    name: 'Full Body Power', 
                    duration: '65 min',
                    location: 'home',
                    exercises: [
                        { name: 'Dynamic Warm-up', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'Broad Jumps', sets: 4, reps: 5, rest: '2m', hasWeight: false },
                        { name: 'KB Clean & Press', sets: 4, reps: '8/side', rest: '2m', hasWeight: true, defaultWeight: 35 },
                        { name: 'Single-Leg RDL', sets: 3, reps: '12/side', rest: '75s', hasWeight: true, defaultWeight: 25 },
                        { name: 'Box Jumps', sets: 4, reps: 8, rest: '90s', hasWeight: false },
                        { name: 'KB Swings', sets: 4, reps: 25, rest: '90s', hasWeight: true, defaultWeight: 35 },
                        { name: 'Lateral Bounds', sets: 3, reps: '10/side', rest: '60s', hasWeight: false },
                        { name: 'Weighted Vest Carries', sets: 3, reps: '50 yds', rest: '75s', hasWeight: true, defaultWeight: 15 },
                        { name: 'Core: Med Ball Overhead Slams', sets: 3, reps: 15, rest: '45s', hasWeight: false },
                        { name: 'Core: Exercise Ball Pikes', sets: 3, reps: 10, rest: '45s', hasWeight: false },
                        { name: 'Mobility Cool-down', sets: 1, reps: '5 min', hasWeight: false }
                    ]
                },
                friday: { 
                    name: 'Upper Body Volume', 
                    duration: '65 min',
                    location: 'home',
                    exercises: [
                        { name: 'Dynamic Warm-up', sets: 1, reps: '8 min', hasWeight: false },
                        { name: 'DB Floor Press', sets: 4, reps: 12, rest: '90s', hasWeight: true, defaultWeight: 35 },
                        { name: 'Bent-Over KB Rows', sets: 4, reps: 15, rest: '75s', hasWeight: true, defaultWeight: 35 },
                        { name: 'Lateral Raises', sets: 3, reps: 15, rest: '60s', hasWeight: true, defaultWeight: 12 },
                        { name: 'Pike Push-ups', sets: 3, reps: 12, rest: '75s', hasWeight: false },
                        { name: 'KB Curls', sets: 3, reps: 15, rest: '60s', hasWeight: true, defaultWeight: 20 },
                        { name: 'Skull Crushers', sets: 3, reps: 15, rest: '60s', hasWeight: true, defaultWeight: 20 },
                        { name: 'Face Pulls', sets: 3, reps: 20, rest: '60s', hasWeight: true, defaultWeight: 15 },
                        { name: 'Core: Med Ball Side Throws', sets: 3, reps: '12/side', rest: '45s', hasWeight: false },
                        { name: 'Core: Exercise Ball Rollouts', sets: 3, reps: 10, rest: '45s', hasWeight: false },
                        { name: 'Stretch & Mobility', sets: 1, reps: '5 min', hasWeight: false }
                    ]
                },
                saturday: { 
                    name: 'Athletic Power', 
                    duration: '70 min',
                    location: 'track',
                    note: 'Bring: Jump rope, weighted vest, sliders, water',
                    exercises: [
                        { name: 'Dynamic Warm-up', sets: 1, reps: '12 min', hasWeight: false },
                        { name: 'Power Sprints', sets: 8, reps: '50m @ 90%', rest: '2m', hasWeight: false },
                        { name: 'Broad Jumps', sets: 4, reps: 5, rest: '90s', hasWeight: false },
                        { name: 'Agility T-Drill', sets: 6, reps: 1, rest: '90s', hasWeight: false },
                        { name: 'Lateral Bounds', sets: 3, reps: '10/side', rest: '60s', hasWeight: false },
                        { name: 'Jump Rope Singles', sets: 5, reps: '1 min', rest: '60s', hasWeight: false },
                        { name: 'Weighted Vest Stair Climbs', sets: 5, reps: 'full climb', rest: '90s', hasWeight: true, defaultWeight: 15 },
                        { name: 'Core: High Knees', sets: 3, reps: '30s', rest: '30s', hasWeight: false },
                        { name: 'Core: V-ups', sets: 3, reps: 15, rest: '45s', hasWeight: false },
                        { name: 'Core: Bicycle Crunches', sets: 3, reps: 20, rest: '30s', hasWeight: false },
                        { name: 'Cool-down Jog & Stretch', sets: 1, reps: '8 min', hasWeight: false }
                    ]
                },
                sunday: { 
                    name: 'Active Recovery', 
                    duration: '40 min',
                    location: 'home',
                    exercises: [
                        { name: 'Easy Jog or Peloton', sets: 1, reps: '20 min', hasWeight: false },
                        { name: 'Jump Rope Easy Pace', sets: 1, reps: '5 min', hasWeight: false },
                        { name: 'Full Body Mobility Flow', sets: 1, reps: '10 min', hasWeight: false },
                        { name: 'Foam Rolling', sets: 1, reps: '5 min', hasWeight: false }
                    ]
                }
            }
        };

        // Duplicate phase1 structure for phases 2-4 with different exercises/weights
        // (Abbreviated for file size - in full version would include all unique exercises)
        workoutData.phase2 = JSON.parse(JSON.stringify(workoutData.phase1));
        workoutData.phase3 = JSON.parse(JSON.stringify(workoutData.phase1));
        workoutData.phase4 = JSON.parse(JSON.stringify(workoutData.phase1));

        // Update weights for progression across phases
        Object.keys(workoutData.phase2).forEach(day => {
            workoutData.phase2[day].exercises.forEach(ex => {
                if (ex.defaultWeight) ex.defaultWeight += 5;
            });
        });
        Object.keys(workoutData.phase3).forEach(day => {
            workoutData.phase3[day].exercises.forEach(ex => {
                if (ex.defaultWeight) ex.defaultWeight += 10;
            });
        });
        Object.keys(workoutData.phase4).forEach(day => {
            workoutData.phase4[day].exercises.forEach(ex => {
                if (ex.defaultWeight) ex.defaultWeight += 15;
            });
        });

        function getWorkoutSchedule(week) {
            if (week === 0) return workoutData.prep;
            const phase = getPhase(week);
            return workoutData[`phase${phase}`];
        }

        function getSuppCompletion() {
            const today = new Date().toDateString();
            const dayOfWeek = new Date().getDay();
            const isRestDay = dayOfWeek === 0 || dayOfWeek === 3;
            
            let total = 0;
            let completed = 0;
            
            Object.keys(supplementSchedule).forEach(time => {
                supplementSchedule[time].supplements.forEach((supp, idx) => {
                    if (supp.conditional && isRestDay) return;
                    total++;
                    if (state.supplementLog[`${today}-${time}-${idx}`]) completed++;
                });
            });
            
            return total > 0 ? Math.round((completed / total) * 100) : 0;
        }

        function getDayCompletion(day) {
            const schedule = getWorkoutSchedule(state.currentWeek);
            const workout = schedule[day];
            if (!workout) return 0;
            const completed = workout.exercises.filter((_, idx) => 
                state.completedExercises[`week${state.currentWeek}-${day}-${idx}`]
            ).length;
            return Math.round((completed / workout.exercises.length) * 100);
        }

        function getWeekCompletion(week) {
            const schedule = getWorkoutSchedule(week);
            const days = week === 0 ? ['saturday', 'sunday'] : ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            
            let total = 0;
            let completed = 0;
            
            days.forEach(day => {
                const workout = schedule[day];
                if (workout) {
                    total += workout.exercises.length;
                    workout.exercises.forEach((_, idx) => {
                        if (state.completedExercises[`week${week}-${day}-${idx}`]) completed++;
                    });
                }
            });
            
            return total > 0 ? Math.round((completed / total) * 100) : 0;
        }

        function getProgramCompletion() {
            let total = 0;
            let completed = 0;
            
            for (let week = 0; week <= 16; week++) {
                const schedule = getWorkoutSchedule(week);
                const days = week === 0 ? ['saturday', 'sunday'] : ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
                
                days.forEach(day => {
                    const workout = schedule[day];
                    if (workout) {
                        total += workout.exercises.length;
                        workout.exercises.forEach((_, idx) => {
                            if (state.completedExercises[`week${week}-${day}-${idx}`]) completed++;
                        });
                    }
                });
            }
            
            return total > 0 ? Math.round((completed / total) * 100) : 0;
        }

        function renderSupplements() {
            const today = new Date().toDateString();
            const dayOfWeek = new Date().getDay();
            const isRestDay = dayOfWeek === 0 || dayOfWeek === 3;
            
            let html = `
                <div class="max-w-4xl mx-auto p-4">
                    <button onclick="goBack()" class="flex items-center gap-2 mb-6 text-blue-400">
                        ‚Üê Back
                    </button>
                    <div class="bg-slate-800 rounded-lg p-6 mb-6 border border-slate-700">
                        <h2 class="text-3xl font-bold mb-2">Daily Supplements</h2>
                        <d
